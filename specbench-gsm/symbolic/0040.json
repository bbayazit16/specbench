{
  "question": "{name} went to the {location} for vacation. Her parents gave her {cur}{total} to buy whatever she wanted. At the {shop}, {item1} was on sale for \"Buy {n1} {unit}s at {cur}{p1} per {unit}, get {n2} {unit}s {discount} off.\" She scooped up {n12} {unit}s. She also bought a mixed bag of {item2} for {cur}{p2} and {n3} {item3} that were {cur}{p3} each. How much money does {name} have left?",
  "types": {
    "name": "str",
    "location": "str",
    "shop": "str",
    "item1": "str",
    "item2": "str",
    "item3": "str",
    "unit": "str",
    "cur": "str",
    "total": "int",
    "n1": "int",
    "n2": "int",
    "n12": "int",
    "k": "int",
    "n3": "int",
    "p1": "int",
    "p2": "float",
    "p3": "float",
    "discount": "float"
  },
  "answer": "total-int((n1*p1+(n2*(1-discount))*p1+k*p1)+p2+n3*p3)",
  "constraints": [
    "unit in ['kilogram', 'pound']",
    "discount is a fraction"
  ],
  "private_constraints": [
    "n2 < n1",
    "n12 == n1 + n2 + k",
    "0 <= k < n1",
    "is_int(n1 * p1 + n2 * (1-discount) * p1 + k * p1 + p2 + n3 * p3)",
    "n1 * p1 + n2 * (1-discount) * p1 + k * p1 + p2 + n3 * p3 < total"
  ]
}